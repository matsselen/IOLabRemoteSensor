\hypertarget{_thermometer_control_8c}{\section{Thermometer\-Control.\-c File Reference}
\label{_thermometer_control_8c}\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}}
}


Controls the thermometer driver.  


{\ttfamily \#include $<$Project\-Types.\-h$>$}\\*
{\ttfamily \#include \char`\"{}Thermometer\-Control.\-h\char`\"{}}\\*
{\ttfamily \#include $<$Adc\-Manager.\-h$>$}\\*
{\ttfamily \#include $<$Timer\-Tick.\-h$>$}\\*
{\ttfamily \#include $<$Data\-Buffer.\-h$>$}\\*
{\ttfamily \#include $<$Sensor\-Id.\-h$>$}\\*
{\ttfamily \#include $<$Key\-Value.\-h$>$}\\*
{\ttfamily \#include $<$Assert.\-h$>$}\\*
Include dependency graph for Thermometer\-Control.\-c\-:
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_thermometer_control_8c_a3d21df8beb9bb23ec349f8ddba407e51}{\#define {\bfseries T\-H\-E\-R\-M\-O\-M\-E\-T\-E\-R\-\_\-\-U\-S\-E\-\_\-\-A\-D\-C}}\label{_thermometer_control_8c_a3d21df8beb9bb23ec349f8ddba407e51}

\item 
\#define \hyperlink{_thermometer_control_8c_a3c83bbf741854c4089c289ecef0d65ae}{T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z}~( 20u )
\item 
\#define \hyperlink{_thermometer_control_8c_a9937cbda6211a3b2325149d7ce42bbf0}{T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z}~( 100u )
\item 
\#define \hyperlink{_thermometer_control_8c_a0af6efee8263ca7ffc5ed2a50f5fd515}{T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z}~( 1000u )
\item 
\hypertarget{_thermometer_control_8c_acb6cc3816ecb275a557f68b8cf14f81d}{\#define {\bfseries N\-U\-M\-\_\-\-T\-E\-M\-P\-\_\-\-C\-A\-L\-I\-B\-R\-A\-T\-I\-O\-N\-\_\-\-B\-Y\-T\-E\-S}~( 4u )}\label{_thermometer_control_8c_acb6cc3816ecb275a557f68b8cf14f81d}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{_thermometer_control_8c_a5fed3ab796c6691b4c6f89f111df18f4}{\-\_\-thermometer\-Data\-Call\-Back} (\hyperlink{_project_types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\-\_\-t} data)
\item 
static \-\_\-\-\_\-inline void \hyperlink{_thermometer_control_8c_adfdcc9ee3f4a20b454cf2d3255c25bd9}{\-\_\-\-Set\-Overampling} (void)
\item 
void \hyperlink{_thermometer_control_8c_a87713dd20daa3ab9edd10f3d710bd4bb}{Thermometer\-Control\-\_\-\-Init} (void)
\item 
void \hyperlink{_thermometer_control_8c_a0683845383689be1d93b603d570dddb9}{Thermometer\-Control\-\_\-\-Set\-Config} (\hyperlink{_project_types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} key\-Value)
\item 
void \hyperlink{_thermometer_control_8c_a8e18cea4a17294d3d4ede9d04f421460}{Thermometer\-Control\-\_\-\-Read\-Calibration} (\hyperlink{_project_types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\-\_\-t} max\-Calibration\-Length, \hyperlink{_project_types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\-\_\-t} $\ast$actual\-Calibration\-Length, \hyperlink{_project_types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} calibration\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{_project_types_8h_a6e2560c92901098cb3cd008a79dcdeba}{bool} \hyperlink{_thermometer_control_8c_a4eb99285a0129893d3f48de7de237df5}{\-\_\-initialized} = \hyperlink{_project_types_8h_a65e9886d74aaee76545e83dd09011727}{false}
\item 
static \hyperlink{_key_value_8h_ac88ab7da79e1e59d372c02148e6e15cd}{Thermometer\-Sample\-Rate\-\_\-t} \hyperlink{_thermometer_control_8c_a05a10f57921292ee2199458ff9a19a17}{\-\_\-sample\-Rate} = \hyperlink{_key_value_8h_a537fb0b317f2b9c96e83e4d6ca3e3dae}{D\-E\-F\-A\-U\-L\-T\-\_\-\-T\-H\-E\-R\-M\-O\-M\-E\-T\-E\-R\-\_\-\-S\-A\-M\-P\-L\-E\-\_\-\-R\-A\-T\-E}
\item 
static \hyperlink{_key_value_8h_aa639bf330bc31bb7c6d709199f21e783}{Thermometer\-Oversample\-\_\-t} \hyperlink{_thermometer_control_8c_a719cad54fd9d31628f9296a214ae5d11}{\-\_\-oversample} = \hyperlink{_key_value_8h_add328c4e0c4adeb2679b21388f145585}{D\-E\-F\-A\-U\-L\-T\-\_\-\-T\-H\-E\-R\-M\-O\-M\-E\-T\-E\-R\-\_\-\-O\-V\-E\-R\-S\-A\-M\-P\-L\-E}
\item 
static \hyperlink{_project_types_8h_a33594304e786b158f3fb30289278f5af}{uint32\-\_\-t} \hyperlink{_thermometer_control_8c_a45c84a718a302530a9e80cce14821e33}{\-\_\-data} = 0u
\item 
\hypertarget{_thermometer_control_8c_aab28a79233a67e4e97f7c9afb8b3f6ce}{static \hyperlink{_project_types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\-\_\-t} {\bfseries \-\_\-number\-Accumulated}}\label{_thermometer_control_8c_aab28a79233a67e4e97f7c9afb8b3f6ce}

\item 
\hypertarget{_thermometer_control_8c_a5d2c1af6e7889ca64842176a53a98eb6}{static \hyperlink{_project_types_8h_a1f1825b69244eb3ad2c7165ddc99c956}{uint16\-\_\-t} {\bfseries \-\_\-number\-To\-Accumulate}}\label{_thermometer_control_8c_a5d2c1af6e7889ca64842176a53a98eb6}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Controls the thermometer driver. {\bfseries Project} 1814 I\-O\-Lab Remote Sensor Application

{\bfseries Description} Controls the thermometer driver and controls the configuration for it. This uses the thermometer from the Gyroscope I\-C. 

Definition in file \hyperlink{_thermometer_control_8c_source}{Thermometer\-Control.\-c}.



\subsection{Macro Definition Documentation}
\hypertarget{_thermometer_control_8c_a9937cbda6211a3b2325149d7ce42bbf0}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z@{T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z}}
\index{T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z@{T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-I\-M\-E\-O\-U\-T\-\_\-10\-H\-Z~( 100u )}}\label{_thermometer_control_8c_a9937cbda6211a3b2325149d7ce42bbf0}
defines how many milliseconds to wait between samples for a 10 Hz rate 

Definition at line 56 of file Thermometer\-Control.\-c.



Referenced by Thermometer\-Control\-\_\-\-Set\-Config().

\hypertarget{_thermometer_control_8c_a0af6efee8263ca7ffc5ed2a50f5fd515}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z@{T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z}}
\index{T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z@{T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-I\-M\-E\-O\-U\-T\-\_\-1\-H\-Z~( 1000u )}}\label{_thermometer_control_8c_a0af6efee8263ca7ffc5ed2a50f5fd515}
defines how many milliseconds to wait between samples for a 1 Hz rate 

Definition at line 59 of file Thermometer\-Control.\-c.



Referenced by Thermometer\-Control\-\_\-\-Set\-Config().

\hypertarget{_thermometer_control_8c_a3c83bbf741854c4089c289ecef0d65ae}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z@{T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z}}
\index{T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z@{T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-I\-M\-E\-O\-U\-T\-\_\-50\-H\-Z~( 20u )}}\label{_thermometer_control_8c_a3c83bbf741854c4089c289ecef0d65ae}
defines how many milliseconds to wait between samples for a 50 Hz rate 

Definition at line 53 of file Thermometer\-Control.\-c.



Referenced by Thermometer\-Control\-\_\-\-Set\-Config().



\subsection{Function Documentation}
\hypertarget{_thermometer_control_8c_adfdcc9ee3f4a20b454cf2d3255c25bd9}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!\-\_\-\-Set\-Overampling@{\-\_\-\-Set\-Overampling}}
\index{\-\_\-\-Set\-Overampling@{\-\_\-\-Set\-Overampling}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{\-\_\-\-Set\-Overampling}]{\setlength{\rightskip}{0pt plus 5cm}static \-\_\-\-\_\-inline void \-\_\-\-Set\-Overampling (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{_thermometer_control_8c_adfdcc9ee3f4a20b454cf2d3255c25bd9}
Sets all the registers appropriately for the current oversampling or not-\/ oversampling settings. 

Definition at line 397 of file Thermometer\-Control.\-c.



Referenced by Thermometer\-Control\-\_\-\-Set\-Config().



Here is the caller graph for this function\-:


\hypertarget{_thermometer_control_8c_a5fed3ab796c6691b4c6f89f111df18f4}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!\-\_\-thermometer\-Data\-Call\-Back@{\-\_\-thermometer\-Data\-Call\-Back}}
\index{\-\_\-thermometer\-Data\-Call\-Back@{\-\_\-thermometer\-Data\-Call\-Back}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{\-\_\-thermometer\-Data\-Call\-Back}]{\setlength{\rightskip}{0pt plus 5cm}static void \-\_\-thermometer\-Data\-Call\-Back (
\begin{DoxyParamCaption}
\item[{{\bf uint16\-\_\-t}}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{_thermometer_control_8c_a5fed3ab796c6691b4c6f89f111df18f4}
Takes the analog input data from internal thermometer and stores it in the proper location. This function is designed to be called every time there is data for the thermometer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & -\/ The sample from header pin 7 that should be stored in the proper location. \\
\hline
\end{DoxyParams}


Definition at line 363 of file Thermometer\-Control.\-c.



Referenced by Thermometer\-Control\-\_\-\-Set\-Config().



Here is the call graph for this function\-:




Here is the caller graph for this function\-:


\hypertarget{_thermometer_control_8c_a87713dd20daa3ab9edd10f3d710bd4bb}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!Thermometer\-Control\-\_\-\-Init@{Thermometer\-Control\-\_\-\-Init}}
\index{Thermometer\-Control\-\_\-\-Init@{Thermometer\-Control\-\_\-\-Init}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{Thermometer\-Control\-\_\-\-Init}]{\setlength{\rightskip}{0pt plus 5cm}void Thermometer\-Control\-\_\-\-Init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_thermometer_control_8c_a87713dd20daa3ab9edd10f3d710bd4bb}
Initializes the thermometer controller. 

Definition at line 95 of file Thermometer\-Control.\-c.



Referenced by Con\-Man\-\_\-\-Init().



Here is the caller graph for this function\-:


\hypertarget{_thermometer_control_8c_a8e18cea4a17294d3d4ede9d04f421460}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!Thermometer\-Control\-\_\-\-Read\-Calibration@{Thermometer\-Control\-\_\-\-Read\-Calibration}}
\index{Thermometer\-Control\-\_\-\-Read\-Calibration@{Thermometer\-Control\-\_\-\-Read\-Calibration}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{Thermometer\-Control\-\_\-\-Read\-Calibration}]{\setlength{\rightskip}{0pt plus 5cm}void Thermometer\-Control\-\_\-\-Read\-Calibration (
\begin{DoxyParamCaption}
\item[{{\bf uint16\-\_\-t}}]{max\-Calibration\-Length, }
\item[{{\bf uint16\-\_\-t} $\ast$}]{actual\-Calibration\-Length, }
\item[{{\bf uint8\-\_\-t}}]{calibration\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{_thermometer_control_8c_a8e18cea4a17294d3d4ede9d04f421460}
Reads the calibration values from the thermometer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em max\-Calibration\-Length} & -\/ the maximum number of bytes allocated for calibration\mbox{[}\mbox{]} \\
\hline
\mbox{\tt out}  & {\em actual\-Calibration\-Length} & -\/ the number of bytes of calibration data placed in calibration\mbox{[}\mbox{]} \\
\hline
\mbox{\tt out}  & {\em calibration\mbox{[}$\,$\mbox{]}} & -\/ the calibration data from the battery. \\
\hline
\end{DoxyParams}


Definition at line 302 of file Thermometer\-Control.\-c.



Referenced by Con\-Man\-\_\-\-Get\-Calibration().



Here is the call graph for this function\-:




Here is the caller graph for this function\-:


\hypertarget{_thermometer_control_8c_a0683845383689be1d93b603d570dddb9}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!Thermometer\-Control\-\_\-\-Set\-Config@{Thermometer\-Control\-\_\-\-Set\-Config}}
\index{Thermometer\-Control\-\_\-\-Set\-Config@{Thermometer\-Control\-\_\-\-Set\-Config}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{Thermometer\-Control\-\_\-\-Set\-Config}]{\setlength{\rightskip}{0pt plus 5cm}void Thermometer\-Control\-\_\-\-Set\-Config (
\begin{DoxyParamCaption}
\item[{{\bf uint8\-\_\-t}}]{key\-Value}
\end{DoxyParamCaption}
)}}\label{_thermometer_control_8c_a0683845383689be1d93b603d570dddb9}
Sets a configuration value to the Thermometer


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em key\-Value} & -\/ the key/value pair with the configuration information \\
\hline
\end{DoxyParams}


Definition at line 108 of file Thermometer\-Control.\-c.



Referenced by Con\-Man\-\_\-\-Set\-Sensor\-Config().



Here is the call graph for this function\-:




Here is the caller graph for this function\-:




\subsection{Variable Documentation}
\hypertarget{_thermometer_control_8c_a45c84a718a302530a9e80cce14821e33}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!\-\_\-data@{\-\_\-data}}
\index{\-\_\-data@{\-\_\-data}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\-\_\-t} \-\_\-data = 0u\hspace{0.3cm}{\ttfamily [static]}}}\label{_thermometer_control_8c_a45c84a718a302530a9e80cce14821e33}
Stores the oversampled thermometer data 

Definition at line 80 of file Thermometer\-Control.\-c.



Referenced by \-\_\-thermometer\-Data\-Call\-Back().

\hypertarget{_thermometer_control_8c_a4eb99285a0129893d3f48de7de237df5}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!\-\_\-initialized@{\-\_\-initialized}}
\index{\-\_\-initialized@{\-\_\-initialized}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{\-\_\-initialized}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} \-\_\-initialized = {\bf false}\hspace{0.3cm}{\ttfamily [static]}}}\label{_thermometer_control_8c_a4eb99285a0129893d3f48de7de237df5}
tracks if the controller has been initialized 

Definition at line 65 of file Thermometer\-Control.\-c.

\hypertarget{_thermometer_control_8c_a719cad54fd9d31628f9296a214ae5d11}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!\-\_\-oversample@{\-\_\-oversample}}
\index{\-\_\-oversample@{\-\_\-oversample}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{\-\_\-oversample}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Thermometer\-Oversample\-\_\-t} \-\_\-oversample = {\bf D\-E\-F\-A\-U\-L\-T\-\_\-\-T\-H\-E\-R\-M\-O\-M\-E\-T\-E\-R\-\_\-\-O\-V\-E\-R\-S\-A\-M\-P\-L\-E}\hspace{0.3cm}{\ttfamily [static]}}}\label{_thermometer_control_8c_a719cad54fd9d31628f9296a214ae5d11}
Stores the thermometer oversample setting 

Definition at line 77 of file Thermometer\-Control.\-c.



Referenced by \-\_\-\-Set\-Overampling(), and Thermometer\-Control\-\_\-\-Set\-Config().

\hypertarget{_thermometer_control_8c_a05a10f57921292ee2199458ff9a19a17}{\index{Thermometer\-Control.\-c@{Thermometer\-Control.\-c}!\-\_\-sample\-Rate@{\-\_\-sample\-Rate}}
\index{\-\_\-sample\-Rate@{\-\_\-sample\-Rate}!ThermometerControl.c@{Thermometer\-Control.\-c}}
\subsubsection[{\-\_\-sample\-Rate}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Thermometer\-Sample\-Rate\-\_\-t} \-\_\-sample\-Rate = {\bf D\-E\-F\-A\-U\-L\-T\-\_\-\-T\-H\-E\-R\-M\-O\-M\-E\-T\-E\-R\-\_\-\-S\-A\-M\-P\-L\-E\-\_\-\-R\-A\-T\-E}\hspace{0.3cm}{\ttfamily [static]}}}\label{_thermometer_control_8c_a05a10f57921292ee2199458ff9a19a17}
Stores the thermometer sample rate setting 

Definition at line 75 of file Thermometer\-Control.\-c.



Referenced by \-\_\-\-Set\-Overampling(), and Thermometer\-Control\-\_\-\-Set\-Config().

